<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Guru - SMK Jakarta Timur 1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="dashboard-styles.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header Dashboard Guru -->
        <div class="dashboard-header">
            <div class="header-left">
                <h1><i class="fas fa-chalkboard-teacher"></i> Dashboard Guru</h1>
                <p class="subtitle">Selamat mengajar, <span id="guruName">Guru</span>!</p>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <div class="avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="user-details">
                        <strong id="userFullName">Nama Guru</strong>
                        <small id="userSubject">Mata Pelajaran</small>
                    </div>
                </div>
                <div class="date-time">
                    <i class="far fa-calendar-alt"></i>
                    <span id="currentDate">Hari, Tanggal</span>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats">
            <div class="stat-card stat-primary">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalSiswaGuru">0</h3>
                    <p>Total Siswa</p>
                </div>
            </div>
            <div class="stat-card stat-success">
                <div class="stat-icon">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="stat-info">
                    <h3 id="presensiHariIniGuru">0</h3>
                    <p>Presensi Hari Ini</p>
                </div>
            </div>
            <div class="stat-card stat-warning">
                <div class="stat-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <div class="stat-info">
                    <h3 id="totalMapelGuru">0</h3>
                    <p>Mapel Diajar</p>
                </div>
            </div>
            <div class="stat-card stat-info">
                <div class="stat-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-info">
                    <h3 id="persenKehadiranGuru">0%</h3>
                    <p>Rata-rata Kehadiran</p>
                </div>
            </div>
        </div>

        <div class="dashboard-content">
            <!-- Kelola Kelas -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> Kelola Kelas</h2>
                    <div class="section-actions">
                        <button class="btn-action" id="btnOpenClass">
                            <i class="fas fa-door-open"></i> Buka Kelas
                        </button>
                        <button class="btn-action btn-secondary" id="btnCloseClass">
                            <i class="fas fa-door-closed"></i> Tutup Kelas
                        </button>
                    </div>
                </div>
                <div class="class-controls">
                    <div class="class-selector">
                        <label><i class="fas fa-school"></i> Pilih Kelas</label>
                        <select id="selectKelasGuru" class="form-input">
                            <option value="">Pilih Kelas</option>
                        </select>
                    </div>
                    <div class="class-selector">
                        <label><i class="fas fa-book"></i> Mata Pelajaran</label>
                        <select id="selectMapelGuru" class="form-input">
                            <option value="">Pilih Mapel</option>
                        </select>
                    </div>
                    <div class="class-status">
                        <span class="status-badge status-closed">
                            <i class="fas fa-lock"></i> Kelas Ditutup
                        </span>
                    </div>
                </div>
            </div>

            <!-- Daftar Siswa -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-user-graduate"></i> Daftar Siswa</h2>
                    <div class="class-info">
                        <span id="currentClassInfo">Belum memilih kelas</span>
                    </div>
                </div>
                <div class="student-list" id="daftarSiswa">
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <p>Pilih kelas untuk melihat daftar siswa</p>
                    </div>
                </div>
            </div>

            <!-- Presensi Real-time -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-bolt"></i> Presensi Real-time</h2>
                    <button class="btn-action btn-refresh" id="btnRefreshPresensi">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                <div class="realtime-presensi" id="realtimePresensi">
                    <div class="empty-state">
                        <i class="fas fa-bolt"></i>
                        <p>Tidak ada presensi real-time saat ini</p>
                    </div>
                </div>
            </div>

            <!-- Jadwal Mengajar -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-calendar-alt"></i> Jadwal Mengajar</h2>
                    <a href="#" class="view-all" onclick="showFullSchedule()">Lihat Semua</a>
                </div>
                <div class="teaching-schedule" id="teachingSchedule">
                    <div class="empty-state">
                        <i class="fas fa-calendar-alt"></i>
                        <p>Tidak ada jadwal mengajar</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard-guru.js"></script>
    <script>
        function logout() {
            localStorage.removeItem('currentUser');
            localStorage.removeItem('currentRole');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
